


from backtestv1 import *
t=fund_backTest("2019-01-01", "2021-04-30",100000)

#测试
#t.buy_list(['000051.OF', '020011.OF', '040180.OF', '100032.OF', '100038.OF'],'2019-01-02')
#t.sell('000051.OF',11111,'2019-01-08')
#t.sell_all('2019-01-08')
#t.buy_list(['000051.OF', '020011.OF'],'2019-01-09')
#t.buy_list(['450009.OF', '540006.OF'],'2019-01-08')
#t.sell_all('2019-01-15')
#2019年度
t.buy_list(['000051.OF', '020011.OF', '040180.OF', '100032.OF', '100038.OF',
        '159901.OF', '159903.OF', '160119.OF', '160706.OF', '162213.OF',
        '163808.OF', '165309.OF', '202015.OF', '240014.OF', '270010.OF',
        '320010.OF', '399011.OF', '410008.OF', '450009.OF', '481009.OF',
        '510050.OF', '510060.OF', '510110.OF', '510130.OF', '510180.OF',
        '510880.OF', '519100.OF', '519180.OF', '540006.OF'],'2019-01-02')
t.sell_all('2019-04-01')

t.buy_list(['000311.OF', '000478.OF', '100038.OF', '163407.OF', '399011.OF',
          '450009.OF', '540006.OF'],'2019-04-01')
t.sell_all('2019-07-01')

t.buy_list(['000311.OF', '000478.OF', '100038.OF', '320020.OF', '399011.OF',
        '450009.OF', '540006.OF'],'2019-07-01')
t.sell_all('2019-10-08')

t.buy_list(['000311.OF', '000478.OF', '100038.OF', '110022.OF', '320020.OF',
        '399011.OF', '450009.OF', '540006.OF'],'2019-10-08')
t.sell_all('2020-01-02')

#2020年度
t.buy_list(['000478.OF', '000751.OF', '100038.OF', '110022.OF', '162216.OF',
        '320020.OF', '399011.OF', '450009.OF', '519116.OF', '540006.OF'],'2020-01-02')
t.sell_all('2020-04-01')

t.buy_list(['000751.OF', '100038.OF', '110022.OF', '160133.OF', '162216.OF',
        '163407.OF', '320020.OF', '320022.OF', '399011.OF', '450009.OF',
        '519116.OF', '540006.OF'],'2020-04-01')
t.sell_all('2020-07-01')

t.buy_list(['000628.OF', '000751.OF', '001104.OF', '001178.OF', '100038.OF',
        '110022.OF', '162216.OF', '163808.OF', '320020.OF', '399011.OF',
        '450009.OF', '519116.OF', '519714.OF', '540006.OF', '540009.OF'],'2020-07-01')
t.sell_all('2020-10-09')

t.buy_list(['000478.OF', '000628.OF', '000991.OF', '001104.OF', '001186.OF',
        '001410.OF', '001528.OF', '001651.OF', '161017.OF', '162216.OF',
        '163808.OF', '320020.OF', '320022.OF', '399011.OF', '450009.OF',
        '502000.OF', '519714.OF', '540006.OF', '540009.OF'],'2020-10-09')
t.sell_all('2021-01-05')

# #2021年度
t.buy_list(['000326.OF', '000991.OF', '001054.OF', '001104.OF', '001186.OF',
        '001473.OF', '001651.OF', '001677.OF', '001705.OF', '001714.OF',
        '001736.OF', '002311.OF', '002316.OF', '162216.OF', '163808.OF',
        '320020.OF', '450009.OF', '502000.OF', '519714.OF', '540009.OF'],'2021-01-05')
t.sell_all('2021-04-01')

t.buy_list(['000326.OF', '000596.OF', '000656.OF', '000975.OF', '000991.OF',
        '001104.OF', '001186.OF', '001208.OF', '001473.OF', '001577.OF',
        '001605.OF', '001714.OF', '001717.OF', '001718.OF', '002199.OF',
        '002236.OF', '002311.OF', '002316.OF', '002334.OF', '050021.OF',
        '159908.OF', '160224.OF', '160420.OF', '160517.OF', '160628.OF',
        '161032.OF', '161121.OF', '161628.OF', '161721.OF', '161811.OF',
        '162510.OF', '163114.OF', '163116.OF', '163808.OF', '164401.OF',
        '164818.OF', '165806.OF', '167301.OF', '168203.OF', '202211.OF',
        '213010.OF', '240019.OF', '320020.OF', '320022.OF', '450009.OF',
        '501005.OF', '501006.OF', '502000.OF', '502040.OF', '512990.OF',
        '519714.OF', '540009.OF'],'2021-04-01')
#t.sell_all('2021-04-01')
df_returns,max_drawdown,sharp_ratio,alpha,beta=t.handle_data()
print(df_returns)